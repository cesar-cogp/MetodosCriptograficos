<!doctype html>
<html>
    <head>
        <title>Cifrado Beaufort </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">        

        <!--Prism-->
        <link href="prism.css" rel="stylesheet" />

    </head>

    <body id="ciphers">

        <div id="head-wrapper">
            <figure class="text-center">
                <blockquote class="blockquote">
                <p><h1>Criptografía</h1></p>
                </blockquote>
                <figcaption class="blockquote-footer">
                    <h3>Cifrado Beaufort</h3>
                </figcaption>
            </figure>
        </div>

        <script type="text/javascript"> 
            function Encrypt() {
                mensajeclaro = document.getElementById("p").value.toUpperCase().replace(/[^A-Z]/g, "");  
                k = document.getElementById("k").value.toUpperCase().replace(/[^A-Z]/g, ""); 
                // do some error checking
                if(mensajeclaro.length < 1){ alert("Por favor ingrese el mensaje en claro (Solamente letras y numeros)"); return; }    
                if(k.length <= 1){ alert("La palabra clave debe tener al menos 2 caracteres."); return; }
                criptograma="";
                for(i=0; i<mensajeclaro.length; i++){ 
                    criptograma += String.fromCharCode((( (mensajeclaro.charCodeAt(i)-65) - (k.charCodeAt(i%k.length)-65)+26)%26)+65); 
                } 
                document.getElementById("c").value = criptograma; 
            } 
        
            function Decrypt(f) { 
                criptograma = document.getElementById("c").value.toUpperCase().replace(/[^A-Z]/g, "");  
                k = document.getElementById("k").value.toUpperCase().replace(/[^A-Z]/g, ""); 
                // do some error checking 
                if(criptograma.length < 1){ alert("Por favor ingrese el mensaje en claro (Solamente letras y numeros)"); return; }    
                if(k.length <= 1){ alert("La palabra clave debe tener al menos 2 caracteres."); return; }
                mensajeclaro="";
                for(i=0; i<criptograma.length; i++){ 
                    mensajeclaro += String.fromCharCode((( (criptograma.charCodeAt(i)-65) + (k.charCodeAt(i%k.length)-65)+26)%26) + 65); 
                } 
                document.getElementById("p").value = mensajeclaro; 
            } 
        </script> 

        <div class="container-sm">
            <div class="row">
                <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vRWldhpQ2XPgln8TLCA1G72IddNljgOsCllvh-Say0jSrDUYNcfOTcbjX2cNn8mQc41s7G0KM0X2vWl/embed?start=false&loop=false&delayms=60000" frameborder="0" width="1440" height="839" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>            </div>
            <div class="row">
                <pre>
                    <code class="language-javascript">
                        <script type="text/javascript"> 
                            function Encrypt() {
                                mensajeclaro = document.getElementById("p").value.toUpperCase().replace(/[^A-Z]/g, "");  
                                k = document.getElementById("k").value.toUpperCase().replace(/[^A-Z]/g, ""); 
                                // do some error checking
                                if(mensajeclaro.length < 1){ alert("Por favor ingrese el mensaje en claro (Solamente letras y numeros)"); return; }    
                                if(k.length <= 1){ alert("La palabra clave debe tener al menos 2 caracteres."); return; }
                                criptograma="";
                                for(i=0; i<mensajeclaro.length; i++){ 
                                    criptograma += String.fromCharCode((( (mensajeclaro.charCodeAt(i)-65) - (k.charCodeAt(i%k.length)-65)+26)%26)+65); 
                                } 
                                document.getElementById("c").value = criptograma; 
                            } 
                        
                            function Decrypt(f) { 
                                criptograma = document.getElementById("c").value.toUpperCase().replace(/[^A-Z]/g, "");  
                                k = document.getElementById("k").value.toUpperCase().replace(/[^A-Z]/g, ""); 
                                // do some error checking 
                                if(criptograma.length < 1){ alert("Por favor ingrese el mensaje en claro (Solamente letras y numeros)"); return; }    
                                if(k.length <= 1){ alert("La palabra clave debe tener al menos 2 caracteres."); return; }
                                mensajeclaro="";
                                for(i=0; i<criptograma.length; i++){ 
                                    mensajeclaro += String.fromCharCode((( (criptograma.charCodeAt(i)-65) + (k.charCodeAt(i%k.length)-65)+26)%26) + 65); 
                                } 
                                document.getElementById("p").value = mensajeclaro; 
                            } 
                        </script> 
                
                    </code>
                </pre>
            </div>
            <div class="row">
                <div >
                    <h3>
                        Ejemplo
                        <small class="text-success">En JavaScript</small>
                    </h3>
                </div>
        
                <div class="mb-3 ">
                    <label class="form-label"><i class="far fa-comment-dots"></i> Mensaje en claro </label>
                    <textarea class="form-control shadow p-3 mb-5 bg-body rounded" id="p" rows="4" cols="50" wrap="soft" placeholder="Ingrese un mensaje en claro"></textarea>
                </div>
    
                <div class="row mb-3">
                    <div class="col-8">
                        <label class="form-label"><i class="fas fa-key"></i> Llave</label>
                        <input class="form-control form-control-lg" id="k" name="k" size="20" value="" type="text" placeholder="Ingrese la llave de encriptación" aria-label="default input example">
                    </div>
                    <div class="col-4 d-grid gap-2 d-md-flex justify-content-md-end">
                        <button class="btn btn-primary me-md-2 btn-lg bg-success bg-gradient" name="e" onclick="Encrypt()" type="button">Cifrar <i class="far fa-arrow-alt-circle-down"></i></button>
                        <button class="btn btn-primary btn-lg bg-success bg-gradient" name="d" onclick="Decrypt()" type="button">Descifrar <i class="far fa-arrow-alt-circle-up"></i></button>
                    </div>
        
                </div>
    
                <div class="mb-3">
                    <label class="form-label"><i class="fas fa-lock"></i> Criptograma</label>
                    <textarea class="form-control shadow p-3 mb-5 bg-body rounded" id="c" name="c" rows="4" cols="50" placeholder="Ingrese un criptograma"></textarea>
                </div>
    
            </div>
        </div>

        <!-- Option 1: Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
   
        <!-- Icons FontAwesome-->
        <script src="https://kit.fontawesome.com/2f330924ef.js" crossorigin="anonymous"></script>

        <!--Script Prism-->
        <script src="prism.js"></script>

    </body>
</html>